{"is_source_file": true, "format": "JavaScript", "description": "This source file defines an API client for fetching data related to cuisines and dishes from a backend server, including utility functions for making HTTP requests with logging and timeout features.", "external_files": ["./endpoints"], "external_methods": [], "published": ["apiClient"], "classes": [], "methods": [{"name": "getCuisines", "description": "Fetches a list of cuisines with optional query parameters."}, {"name": "getDishes", "description": "Fetches a list of dishes with optional query parameters."}, {"name": "searchAll", "description": "Searches across all items with a query string."}, {"name": "getCuisineById", "description": "Fetches a specific cuisine by its ID."}, {"name": "getDishById", "description": "Fetches a specific dish by its ID."}, {"name": "_resolveBaseUrl", "description": "Returns the base URL used for API requests."}], "calls": ["jsonFetch", "endpoints.cuisines", "endpoints.dishes", "endpoints.search", "endpoints.cuisineById", "endpoints.dishById"], "search-terms": ["apiClient", "api request", "timeoutFetch", "jsonFetch", "endpoints", "React environment variables"], "state": 2, "file_id": 27, "knowledge_revision": 74, "git_revision": "", "revision_history": [{"56": ""}, {"74": ""}], "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^const BASE_URL =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LOG_LEVEL", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^const LOG_LEVEL = process.env.REACT_APP_LOG_LEVEL || 'info';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "WS_URL", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^export const WS_URL = process.env.REACT_APP_WS_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "_resolveBaseUrl", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  _resolveBaseUrl: () => BASE_URL,$/", "language": "JavaScript", "kind": "property", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^export const apiClient = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "controller", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const controller = new AbortController();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const data = await res.json().catch(() => ({}));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "debug", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const ranks = { silent: 0, error: 1, warn: 2, info: 3, debug: 4 };$/", "language": "JavaScript", "kind": "property", "scope": "ranks", "scopeKind": "class"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^    const err = new Error(`HTTP ${res.status} ${res.statusText}`);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const ranks = { silent: 0, error: 1, warn: 2, info: 3, debug: 4 };$/", "language": "JavaScript", "kind": "property", "scope": "ranks", "scopeKind": "class"}, {"_type": "tag", "name": "getCuisineById", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  getCuisineById: (id) => jsonFetch(endpoints.cuisineById(id)),$/", "language": "JavaScript", "kind": "property", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getCuisines", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  getCuisines: (params = {}) => jsonFetch(endpoints.cuisines, { query: params }),$/", "language": "JavaScript", "kind": "property", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getDishById", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  getDishById: (id) => jsonFetch(endpoints.dishById(id)),$/", "language": "JavaScript", "kind": "property", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getDishes", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  getDishes: (params = {}) => jsonFetch(endpoints.dishes, { query: params }),$/", "language": "JavaScript", "kind": "property", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const id = setTimeout(() => controller.abort(), timeoutMs);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "info", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const ranks = { silent: 0, error: 1, warn: 2, info: 3, debug: 4 };$/", "language": "JavaScript", "kind": "property", "scope": "ranks", "scopeKind": "class"}, {"_type": "tag", "name": "jsonFetch", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^const jsonFetch = async (path, { method = 'GET', headers = {}, body, timeoutMs = 10000, query } /", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "options", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const options = { ...init, signal: controller.signal };$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ranks", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const ranks = { silent: 0, error: 1, warn: 2, info: 3, debug: 4 };$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const res = await timeoutFetch(url.toString(), {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "searchAll", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  searchAll: (q) => jsonFetch(endpoints.search, { query: { q } }),$/", "language": "JavaScript", "kind": "property", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "shouldLog", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^const shouldLog = (level) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "silent", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const ranks = { silent: 0, error: 1, warn: 2, info: 3, debug: 4 };$/", "language": "JavaScript", "kind": "property", "scope": "ranks", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^    const text = await res.text().catch(() => '');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "timeoutFetch", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^const timeoutFetch = (input, init = {}, timeoutMs = 10000) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const url = new URL(`${BASE_URL}${path}`, window.location.origin);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "warn", "path": "/home/kavia/workspace/code-generation/global-food-explorer-47630-47639/frontend/src/services/apiClient.js", "pattern": "/^  const ranks = { silent: 0, error: 1, warn: 2, info: 3, debug: 4 };$/", "language": "JavaScript", "kind": "property", "scope": "ranks", "scopeKind": "class"}], "hash": "6bcbad72d45174c8320a05d4780d782e", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/services/apiClient.js", "fields": [{"name": "_resolveBaseUrl: () => BASE_URL,", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "const ranks = { silent: 0, error: 1, warn: 2, info: 3, debug: 4 };", "scope": "ranks", "scopeKind": "class", "description": "unavailable"}, {"name": "getCuisineById: (id) => jsonFetch(endpoints.cuisineById(id)),", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "getCuisines: (params = {}) => jsonFetch(endpoints.cuisines, { query: params }),", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "getDishById: (id) => jsonFetch(endpoints.dishById(id)),", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "getDishes: (params = {}) => jsonFetch(endpoints.dishes, { query: params }),", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "searchAll: (q) => jsonFetch(endpoints.search, { query: { q } }),", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}]}